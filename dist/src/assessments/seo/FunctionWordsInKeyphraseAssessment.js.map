{"version":3,"sources":["../../../../src/assessments/seo/FunctionWordsInKeyphraseAssessment.js"],"names":["escape","merge","Assessment","createAnchorOpeningTag","AssessmentResult","FunctionWordsInKeyphraseAssessment","constructor","config","defaultConfig","scores","onlyFunctionWords","urlTitle","urlCallToAction","identifier","_config","getResult","paper","researcher","i18n","_functionWordsInKeyphrase","getResearch","_keyword","getKeyword","assessmentResult","setScore","setText","sprintf","dgettext","isApplicable","hasKeyword"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,KAAjB,QAA8B,WAA9B;;AAEA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,SAASC,sBAAT,QAAuC,2BAAvC;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;;AAEA;;;AAGA,MAAMC,kCAAN,SAAiDH,UAAjD,CAA4D;AAC3D;;;;;;;;;;AAUAI,aAAaC,SAAS,EAAtB,EAA2B;AAC1B;;AAEA,QAAMC,gBAAgB;AACrBC,WAAQ;AACPC,uBAAmB;AADZ,IADa;AAIrBC,aAAUR,uBAAwB,yCAAxB,CAJW;AAKrBS,oBAAiBT,uBAAwB,yCAAxB;AALI,GAAtB;;AAQA,OAAKU,UAAL,GAAkB,0BAAlB;AACA,OAAKC,OAAL,GAAeb,MAAOO,aAAP,EAAsBD,MAAtB,CAAf;AACA;;AAED;;;;;;;;;AASAQ,WAAWC,KAAX,EAAkBC,UAAlB,EAA8BC,IAA9B,EAAqC;AACpC,OAAKC,yBAAL,GAAiCF,WAAWG,WAAX,CAAwB,0BAAxB,CAAjC;AACA,OAAKC,QAAL,GAAgBrB,OAAQgB,MAAMM,UAAN,EAAR,CAAhB;AACA,QAAMC,mBAAmB,IAAInB,gBAAJ,EAAzB;;AAEA,MAAK,KAAKe,yBAAV,EAAsC;AACrCI,oBAAiBC,QAAjB,CAA2B,KAAKV,OAAL,CAAaL,MAAb,CAAoBC,iBAA/C;AACAa,oBAAiBE,OAAjB,CAA0BP,KAAKQ,OAAL;AACzB;;;;;;AAMAR,QAAKS,QAAL,CAAe,kBAAf,EAAmC,0CAClC,wDADkC,GAElC,uDAFD,CAPyB,EAUzB,KAAKb,OAAL,CAAaH,QAVY,EAWzB,KAAKG,OAAL,CAAaF,eAXY,EAYzB,MAZyB,EAazB,KAAKS,QAboB,CAA1B;AAeA;;AAED,SAAOE,gBAAP;AACA;;AAED;;;;;;;AAOAK,cAAcZ,KAAd,EAAsB;AACrB,SAAOA,MAAMa,UAAN,EAAP;AACA;AAvE0D;;AA0E5D,eAAexB,kCAAf","file":"FunctionWordsInKeyphraseAssessment.js","sourcesContent":["import { escape, merge } from \"lodash-es\";\n\nimport Assessment from \"../../assessment\";\nimport { createAnchorOpeningTag } from \"../../helpers/shortlinker\";\nimport AssessmentResult from \"../../values/AssessmentResult\";\n\n/**\n * Assessment to check whether the keyphrase only contains function words.\n */\nclass FunctionWordsInKeyphraseAssessment extends Assessment {\n\t/**\n\t * Sets the identifier and the config.\n\t *\n\t * @param {Object} [config] The configuration to use.\n\t * @param {number} [config.scores.onlyFunctionWords] The score to return if the keyphrase contains only function words.\n\t * @param {string} [config.urlTitle] The URL to the relevant KB article.\n\t * @param {string} [config.urlCallToAction] The URL to the call-to-action article.\n\t *\n\t * @returns {void}\n\t */\n\tconstructor( config = {} ) {\n\t\tsuper();\n\n\t\tconst defaultConfig = {\n\t\t\tscores: {\n\t\t\t\tonlyFunctionWords: 0,\n\t\t\t},\n\t\t\turlTitle: createAnchorOpeningTag( \"https://yoa.st/functionwordskeyphrase-1\" ),\n\t\t\turlCallToAction: createAnchorOpeningTag( \"https://yoa.st/functionwordskeyphrase-2\" ),\n\t\t};\n\n\t\tthis.identifier = \"functionWordsInKeyphrase\";\n\t\tthis._config = merge( defaultConfig, config );\n\t}\n\n\t/**\n\t * Runs the functionWordsInKeyphrase researcher, based on this returns an assessment result with score.\n\t *\n\t * @param {Paper} paper The paper to use for the assessment.\n\t * @param {Researcher} researcher The researcher used for calling research.\n\t * @param {Jed} i18n The object used for translations.\n\t *\n\t * @returns {AssessmentResult} The result of the assessment.\n\t */\n\tgetResult( paper, researcher, i18n ) {\n\t\tthis._functionWordsInKeyphrase = researcher.getResearch( \"functionWordsInKeyphrase\" );\n\t\tthis._keyword = escape( paper.getKeyword() );\n\t\tconst assessmentResult = new AssessmentResult();\n\n\t\tif ( this._functionWordsInKeyphrase ) {\n\t\t\tassessmentResult.setScore( this._config.scores.onlyFunctionWords );\n\t\t\tassessmentResult.setText( i18n.sprintf(\n\t\t\t\t/**\n\t\t\t\t * Translators:\n\t\t\t\t * %1$s and %2$s expand to links on yoast.com,\n\t\t\t\t * %3$s expands to the anchor end tag,\n\t\t\t\t * %4$s expands to the focus keyphrase of the article.\n\t\t\t\t */\n\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sFunction words in keyphrase%3$s: \" +\n\t\t\t\t\t\"Your keyphrase \\\"%4$s\\\" contains function words only. \" +\n\t\t\t\t\t\"%2$sLearn more about what makes a good keyphrase.%3$s\" ),\n\t\t\t\tthis._config.urlTitle,\n\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\"</a>\",\n\t\t\t\tthis._keyword,\n\t\t\t) );\n\t\t}\n\n\t\treturn assessmentResult;\n\t}\n\n\t/**\n\t * Checks if assessment is applicable to the paper.\n\t *\n\t * @param {Paper} paper The paper to be analyzed.\n\t *\n\t * @returns {boolean} Whether the paper has keyword.\n\t */\n\tisApplicable( paper ) {\n\t\treturn paper.hasKeyword();\n\t}\n}\n\nexport default FunctionWordsInKeyphraseAssessment;\n"]}