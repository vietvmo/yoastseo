{"version":3,"sources":["../../../../../src/researches/passiveVoice/periphrastic/getSentencePartsSplitOnStopwords.js"],"names":["forEach","isEmpty","map","arrayToRegex","stripSpaces","SentencePartGerman","auxiliariesGermanFactory","auxiliariesGerman","allAuxiliaries","stopwordsGermanFactory","stopwordsGerman","SentencePartDutch","stopwordsDutchFactory","stopwordsDutch","auxiliariesDutchFactory","auxiliariesDutch","SentencePartPolish","stopwordsPolishFactory","stopwordsPolish","auxiliariesPolishFactory","auxiliariesPolish","languageVariables","de","SentencePart","stopwordRegex","auxiliaryRegex","locale","nl","pl","sanitizeMatches","matches","match","splitOnWords","sentence","stopwords","splitSentences","stopword","sentenceSplit","split","push","startIndex","indexOf","endIndex","length","substr","createSentenceParts","sentences","language","sentenceParts","part","foundAuxiliaries","splitSentence"],"mappings":"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","file":"getSentencePartsSplitOnStopwords.js","sourcesContent":["import { forEach } from \"lodash-es\";\nimport { isEmpty } from \"lodash-es\";\nimport { map } from \"lodash-es\";\n\nimport arrayToRegex from \"../../../stringProcessing/createRegexFromArray.js\";\nimport stripSpaces from \"../../../stringProcessing/stripSpaces.js\";\n\n// German-specific imports.\nimport SentencePartGerman from \"../../german/passiveVoice/SentencePart.js\";\n\nimport auxiliariesGermanFactory from \"../../german/passiveVoice/auxiliaries.js\";\n\nconst auxiliariesGerman = auxiliariesGermanFactory().allAuxiliaries;\nimport stopwordsGermanFactory from \"../../german/passiveVoice/stopwords.js\";\nconst stopwordsGerman = stopwordsGermanFactory();\n\n// Dutch-specific imports.\nimport SentencePartDutch from \"../../dutch/passiveVoice/SentencePart.js\";\n\nimport stopwordsDutchFactory from \"../../dutch/passiveVoice/stopwords.js\";\nconst stopwordsDutch = stopwordsDutchFactory();\nimport auxiliariesDutchFactory from \"../../dutch/passiveVoice/auxiliaries.js\";\nconst auxiliariesDutch = auxiliariesDutchFactory();\n\n// Polish-specific imports.\nimport SentencePartPolish from \"../../polish/passiveVoice/SentencePart.js\";\n\nimport stopwordsPolishFactory from \"../../polish/passiveVoice/stopwords.js\";\nconst stopwordsPolish = stopwordsPolishFactory();\nimport auxiliariesPolishFactory from \"../../polish/passiveVoice/auxiliaries.js\";\nconst auxiliariesPolish = auxiliariesPolishFactory();\n\n\n// The language-specific variables.\nconst languageVariables = {\n\tde: {\n\t\tSentencePart: SentencePartGerman,\n\t\tstopwordRegex: arrayToRegex( stopwordsGerman ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesGerman ),\n\t\tlocale: \"de_DE\",\n\t},\n\tnl: {\n\t\tSentencePart: SentencePartDutch,\n\t\tstopwordRegex: arrayToRegex( stopwordsDutch ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesDutch ),\n\t\tlocale: \"nl_NL\",\n\t},\n\tpl: {\n\t\tSentencePart: SentencePartPolish,\n\t\tstopwordRegex: arrayToRegex( stopwordsPolish ),\n\t\tauxiliaryRegex: arrayToRegex( auxiliariesPolish ),\n\t\tlocale: \"pl_PL\",\n\t},\n};\n\n/**\n * Strips spaces from the auxiliary matches.\n *\n * @param {Array} matches A list with matches of auxiliaries.\n * @returns {Array} A list with matches with spaces removed.\n */\nfunction sanitizeMatches( matches ) {\n\treturn map( matches, function( match ) {\n\t\treturn stripSpaces( match );\n\t} );\n}\n\n/**\n * Splits sentences into sentence parts based on stopwords.\n *\n * @param {string} sentence The sentence to split.\n * @param {Array} stopwords The array with matched stopwords.\n * @returns {Array} The array with sentence parts.\n */\nfunction splitOnWords( sentence, stopwords ) {\n\tconst splitSentences = [];\n\n\t// Split the sentence on each found stopword and push this part in an array.\n\tforEach( stopwords, function( stopword ) {\n\t\tconst sentenceSplit = sentence.split( stopword );\n\t\tif ( ! isEmpty( sentenceSplit[ 0 ] ) ) {\n\t\t\tsplitSentences.push( sentenceSplit[ 0 ] );\n\t\t}\n\t\tconst startIndex = sentence.indexOf( stopword );\n\t\tconst endIndex = sentence.length;\n\t\tsentence = stripSpaces( sentence.substr( startIndex, endIndex ) );\n\t} );\n\n\t// Push the remainder of the sentence in the sentence parts array.\n\tsplitSentences.push( sentence );\n\treturn splitSentences;\n}\n\n/**\n * Creates sentence parts based on split sentences.\n\n * @param {Array}   sentences   The array with split sentences.\n * @param {string}  language    The language for which to create sentence parts.\n *\n * @returns {Array} The array with sentence parts.\n */\nfunction createSentenceParts( sentences, language ) {\n\tconst auxiliaryRegex = languageVariables[ language ].auxiliaryRegex;\n\tconst SentencePart = languageVariables[ language ].SentencePart;\n\tconst sentenceParts = [];\n\tforEach( sentences, function( part ) {\n\t\tconst foundAuxiliaries = sanitizeMatches( part.match( auxiliaryRegex || [] ) );\n\t\tsentenceParts.push( new SentencePart( part, foundAuxiliaries, languageVariables[ language ].locale ) );\n\t} );\n\treturn sentenceParts;\n}\n\n/**\n * Splits the sentence into sentence parts based on stopwords.\n *\n * @param {string} sentence The text to split into sentence parts.\n * @param {string} language The language for which to split sentences.\n *\n * @returns {Array} The array with sentence parts.\n */\nfunction splitSentence( sentence, language ) {\n\tconst stopwordRegex = languageVariables[ language ].stopwordRegex;\n\tconst stopwords = sentence.match( stopwordRegex ) || [];\n\tconst splitSentences = splitOnWords( sentence, stopwords );\n\treturn createSentenceParts( splitSentences, language );\n}\n\nexport default splitSentence;\n"]}