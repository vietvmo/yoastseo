{"version":3,"sources":["../../../../../src/researches/french/passiveVoice/FrenchParticiple.js"],"names":["forEach","includes","memoize","directPrecedenceException","precedenceException","Participle","checkException","exceptionsParticiplesFactory","adjectivesVerbs","exceptionsParticiplesAdjectivesVerbs","nounsStartingWithVowel","exceptionsParticiplesNounsVowel","nounsStartingWithConsonant","exceptionsParticiplesNounsConsonant","others","exceptionsParticiplesOthers","FrenchParticiple","participle","sentencePart","attributes","call","require","inherits","checkIrregular","getType","prototype","isPassive","getSentencePart","getParticiple","language","getLanguage","isOnAdjectivesVerbsExceptionList","isOnNounsExceptionList","isOnOthersExceptionList","getExceptionsParticiplesAdjectivesVerbsRegexes","exceptionsParticiplesAdjectivesVerbsRegexes","exceptionParticiplesAdjectivesVerbs","push","RegExp","getExceptionsParticiplesNounsRegexes","exceptionsParticiplesNounsRegexes","exceptionParticipleNounVowel","exceptionParticipleNounConsonant","checkParticipleExceptionRegexes","participleExceptionRegexes","match","participleExceptionRegex","exceptionMatch","length","exceptionsParticiplesNouns"],"mappings":"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","file":"FrenchParticiple.js","sourcesContent":["import { forEach, includes, memoize } from \"lodash-es\";\n\nimport directPrecedenceException from \"../../../stringProcessing/directPrecedenceExceptionWithoutRegex\";\nimport precedenceException from \"../../../stringProcessing/precedenceExceptionWithoutRegex\";\nimport Participle from \"../../../values/Participle\";\nimport checkException from \"../../passiveVoice/periphrastic/checkException\";\nimport exceptionsParticiplesFactory from \"./exceptionsParticiples\";\n\nconst {\n\tadjectivesVerbs: exceptionsParticiplesAdjectivesVerbs,\n\tnounsStartingWithVowel: exceptionsParticiplesNounsVowel,\n\tnounsStartingWithConsonant: exceptionsParticiplesNounsConsonant,\n\tothers: exceptionsParticiplesOthers,\n} = exceptionsParticiplesFactory();\n\n/**\n * Creates an Participle object for the French language.\n *\n * @param {string} participle The participle.\n * @param {string} sentencePart The sentence part that contains the participle.\n * @param {Object} attributes  The attributes object.\n *\n * @constructor\n */\nvar FrenchParticiple = function( participle, sentencePart, attributes ) {\n\tParticiple.call( this, participle, sentencePart, attributes );\n\tcheckException.call( this );\n};\n\nrequire( \"util\" ).inherits( FrenchParticiple, Participle );\n\n/**\n * Checks whether the participle is irregular.\n *\n * @returns {boolean} Returns true if the passive is irregular.\n */\nvar checkIrregular = function() {\n\tif ( this.getType() === \"irregular\" ) {\n\t\treturn true;\n\t}\n};\n\n/**\n * Checks if any exceptions are applicable to this participle that would result in the sentence part not being passive.\n * If no exceptions are found, the sentence part is passive.\n *\n * @returns {boolean} Returns true if no exception is found.\n */\nFrenchParticiple.prototype.isPassive = function() {\n\tconst sentencePart = this.getSentencePart();\n\tconst participle = this.getParticiple();\n\tconst language = this.getLanguage();\n\n\t// Only check precedence exceptions for irregular participles.\n\tif ( checkIrregular.call( this ) ) {\n\t\treturn ! this.directPrecedenceException( sentencePart, participle, language ) &&\n\t\t\t! this.precedenceException( sentencePart, participle, language );\n\t}\n\t// Check precedence exceptions and exception lists for regular participles.\n\treturn ! this.isOnAdjectivesVerbsExceptionList() &&\n\t\t! this.isOnNounsExceptionList() &&\n\t\t! this.isOnOthersExceptionList() &&\n\t\t! this.directPrecedenceException( sentencePart, participle, language ) &&\n\t\t! this.precedenceException( sentencePart, participle, language );\n};\n\n/**\n * Creates regexes to match adjective and verb participle exceptions (including suffixes) and memoizes them.\n *\n * @returns {Array} Returns an array with all adjective and verb participle exceptions.\n */\nvar getExceptionsParticiplesAdjectivesVerbsRegexes = memoize( function() {\n\tconst exceptionsParticiplesAdjectivesVerbsRegexes = [];\n\tforEach( exceptionsParticiplesAdjectivesVerbs, function( exceptionParticiplesAdjectivesVerbs ) {\n\t\texceptionsParticiplesAdjectivesVerbsRegexes.push( new RegExp( \"^\" + exceptionParticiplesAdjectivesVerbs + \"(e|s|es)?$\", \"ig\" ) );\n\t} );\n\treturn exceptionsParticiplesAdjectivesVerbsRegexes;\n} );\n\n/**\n * Creates regexes to match noun participle exceptions (including suffixes) and memoizes them.\n *\n * @returns {Array} Returns an array with all noun participle exceptions.\n */\nvar getExceptionsParticiplesNounsRegexes = memoize( function() {\n\tconst exceptionsParticiplesNounsRegexes = [];\n\n\t// Nouns starting with a vowel are checked with -s suffix and l' and d' prefixes.\n\tforEach( exceptionsParticiplesNounsVowel, function( exceptionParticipleNounVowel ) {\n\t\texceptionsParticiplesNounsRegexes.push( new RegExp( \"^(l'|d')?\" + exceptionParticipleNounVowel + \"(s)?$\", \"ig\" ) );\n\t} );\n\t// Nouns starting with a consonant are checked with -s suffix.\n\tforEach( exceptionsParticiplesNounsConsonant, function( exceptionParticipleNounConsonant ) {\n\t\texceptionsParticiplesNounsRegexes.push( new RegExp( \"^\" + exceptionParticipleNounConsonant + \"(s)?$\", \"ig\" ) );\n\t} );\n\n\treturn exceptionsParticiplesNounsRegexes;\n} );\n\n/**\n * Checks whether a given participle matches a list of regex exceptions.\n *\n * @param {Array} participleExceptionRegexes The array of regexes to check.\n * @returns {boolean} Returns true if the participle matches a regex.\n */\nvar checkParticipleExceptionRegexes = function( participleExceptionRegexes ) {\n\tvar participle = this.getParticiple();\n\tvar match = [];\n\n\tforEach( participleExceptionRegexes, function( participleExceptionRegex ) {\n\t\tvar exceptionMatch = participle.match( participleExceptionRegex );\n\t\tif ( exceptionMatch ) {\n\t\t\tmatch.push( exceptionMatch[ 0 ] );\n\t\t}\n\t} );\n\n\tif ( match.length > 0 ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n/**\n * Checks whether a found participle is in the exception list of adjectives and verbs.\n * These words are checked with e/s/es as possible suffixes.\n * If a word is on the list, it isn't a participle.\n *\n * @returns {boolean} Returns true if it is in the exception list of adjectives and verbs, otherwise returns false.\n */\nFrenchParticiple.prototype.isOnAdjectivesVerbsExceptionList = function() {\n\tvar exceptionParticiplesAdjectivesVerbs = getExceptionsParticiplesAdjectivesVerbsRegexes();\n\treturn checkParticipleExceptionRegexes.call( this, exceptionParticiplesAdjectivesVerbs );\n};\n\n/**\n * Checks whether a found participle is in the exception list of nouns.\n * These words are checked with s as a possible suffix.\n * If a word is on the list, it isn't a participle.\n *\n * @returns {boolean} Returns true if it is in the exception list of nouns, otherwise returns false.\n */\nFrenchParticiple.prototype.isOnNounsExceptionList = function() {\n\tvar exceptionsParticiplesNouns = getExceptionsParticiplesNounsRegexes();\n\treturn checkParticipleExceptionRegexes.call( this, exceptionsParticiplesNouns );\n};\n\n/**\n * Checks whether a found participle is in the exception list in the 'other' category.\n * If a word is on the list, it isn't a participle.\n * Irregular participles do not end in -é and therefore can't be on the list.\n *\n * @returns {boolean} Returns true if it is in the exception list of nouns, otherwise returns false.\n */\nFrenchParticiple.prototype.isOnOthersExceptionList = function() {\n\treturn includes( exceptionsParticiplesOthers, this.getParticiple() );\n};\n\nFrenchParticiple.prototype.directPrecedenceException = directPrecedenceException;\n\nFrenchParticiple.prototype.precedenceException = precedenceException;\n\nexport default FrenchParticiple;\n"]}